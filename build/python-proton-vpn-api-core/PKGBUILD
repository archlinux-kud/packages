# Maintainer: Albert I <kras@raphielgang.org>
# Contributor: Ali Molaei <ali dot molaei at protonmail dot com>

pkgname=python-proton-vpn-api-core
pkgver=0.21.0
pkgrel=1
pkgdesc='Proton Technologies VPN core API'
arch=('any')
url='https://github.com/ProtonVPN/python-proton-vpn-api-core'
license=('GPL-3.0-or-later')
groups=('ProtonVPN')
depends=(
    'python'
    'python-distro'
    'python-proton-core'
    'python-proton-vpn-connection'
    'python-proton-vpn-killswitch'
    'python-proton-vpn-logger'
    'python-proton-vpn-session'
)
makedepends=(
    'python-build'
    'python-installer'
    'python-setuptools'
    'python-wheel'
)
source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/refs/tags/v${pkgver}.tar.gz")
sha384sums=('2bb9925528101e4688c1785c57a6bb884a586fe8a8036c7a96b54f5b9ea79cc63816085cf18062be25774a9bb890c546')
b2sums=('525d9e82b4c00adb924c3ac7b568948993c3f99c3cfa01e7734cc3049c02be73f24749f1717e1034131a674d9dd04cd8692c27bf2d2733b6718c37d5112c39ff')

build() {
    cd "${pkgname}-${pkgver}"
    python -m build -w -n
}

package() {
    cd "${pkgname}-${pkgver}"
    python -m installer -d "${pkgdir}" dist/*.whl
}
